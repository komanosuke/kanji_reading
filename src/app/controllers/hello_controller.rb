class HelloController < ApplicationController
    before_action :authenticate_account!, only: :login_check

    @@kanji_pass_list = ['00000000000000000000000000000000000000000000000000000000000000000000000000000000','0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000']

    def index
        @message = 'ログインしたら図鑑が使えます。'

        if account_signed_in?
            @message = current_account.id
            @account = current_account
            
            if StudyRecord.where(user_id: current_account.id).empty?
                @message = 'ログインしたから図鑑が使えるよ！'
                StudyRecord.create(user_id:current_account.id ,grade1:@@kanji_pass_list[0],grade2:@@kanji_pass_list[1],grade3:@@kanji_pass_list[2],grade4:@@kanji_pass_list[3],grade5:@@kanji_pass_list[4],grade6:@@kanji_pass_list[5])
            end
            
        end
    end
    
    def login_check
        @account = current_account
        @msg = 'account created at: ' + @account.created_at.to_s
        redirect_to '/'
    end
end
